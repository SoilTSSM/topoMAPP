Loading required package: ncdf4
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: Hmisc
Loading required package: lattice
Loading required package: survival
Loading required package: Formula
Loading required package: ggplot2

Attaching package: ‘Hmisc’

The following objects are masked from ‘package:raster’:

    mask, zoom

The following objects are masked from ‘package:base’:

    format.pval, round.POSIXt, trunc.POSIXt, units

Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: horizon
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: MODIStsp
[Wed Oct 25 00:17:49 2017]Welcome to MODIStsp!

We will now search for a valid GDAL installation - please wait
(this will happen only once)
Scanning for GDAL installations...
Checking Sys.which...
GDAL version 2.2.1
GDAL version in use: 1.11.3
The option file in use (/home/joel/src/topoMAPP/DA/optionsNDVI.json) was created with
an old MODIStsp version (1.3.2).
Although this should still work, please consider re-loading the file
from the GUI and re-saving it!
[Wed Oct 25 00:17:52 2017] Retrieving list of files from NASA server
[Wed Oct 25 00:17:56 2017] Retrieving Files for Year 2000
[Wed Oct 25 00:18:05 2017] 1 files for date of 2000.08.12 were successfully downloaded!
[Wed Oct 25 00:18:07 2017] Processing and Reprojecting Terra NDVI files for date: 2000_08_12
[Wed Oct 25 00:18:09 2017] Creating Virtual Files and rts time series for layer NDVI
Loading required package: MODIStsp
[Wed Oct 25 00:18:13 2017]Welcome to MODIStsp!

We will now search for a valid GDAL installation - please wait
(this will happen only once)
Scanning for GDAL installations...
Checking Sys.which...
GDAL version 2.2.1
GDAL version in use: 1.11.3
The option file in use (/home/joel/src/topoMAPP/DA/optionsNDVI.json) was created with
an old MODIStsp version (1.3.2).
Although this should still work, please consider re-loading the file
from the GUI and re-saving it!
[Wed Oct 25 00:18:16 2017] Retrieving list of files from NASA server
[Wed Oct 25 00:18:18 2017] Retrieving Files for Year 2004
[Wed Oct 25 00:18:27 2017] 1 files for date of 2004.08.12 were successfully downloaded!
[Wed Oct 25 00:18:29 2017] Processing and Reprojecting Terra NDVI files for date: 2004_08_12
[Wed Oct 25 00:18:31 2017] Creating Virtual Files and rts time series for layer NDVI
Loading required package: MODIStsp
[Wed Oct 25 00:18:34 2017]Welcome to MODIStsp!

We will now search for a valid GDAL installation - please wait
(this will happen only once)
Scanning for GDAL installations...
Checking Sys.which...
GDAL version 2.2.1
GDAL version in use: 1.11.3
The option file in use (/home/joel/src/topoMAPP/DA/optionsNDVI.json) was created with
an old MODIStsp version (1.3.2).
Although this should still work, please consider re-loading the file
from the GUI and re-saving it!
[Wed Oct 25 00:18:36 2017] Retrieving list of files from NASA server
[Wed Oct 25 00:18:38 2017] Retrieving Files for Year 2008
[Wed Oct 25 00:18:46 2017] 1 files for date of 2008.08.12 were successfully downloaded!
[Wed Oct 25 00:18:47 2017] Processing and Reprojecting Terra NDVI files for date: 2008_08_12
[Wed Oct 25 00:18:49 2017] Creating Virtual Files and rts time series for layer NDVI
Loading required package: MODIStsp
[Wed Oct 25 00:18:51 2017]Welcome to MODIStsp!

We will now search for a valid GDAL installation - please wait
(this will happen only once)
Scanning for GDAL installations...
Checking Sys.which...
GDAL version 2.2.1
GDAL version in use: 1.11.3
The option file in use (/home/joel/src/topoMAPP/DA/optionsNDVI.json) was created with
an old MODIStsp version (1.3.2).
Although this should still work, please consider re-loading the file
from the GUI and re-saving it!
[Wed Oct 25 00:18:54 2017] Retrieving list of files from NASA server
[Wed Oct 25 00:18:56 2017] Retrieving Files for Year 2012
[Wed Oct 25 00:19:04 2017] 1 files for date of 2012.08.12 were successfully downloaded!
[Wed Oct 25 00:19:05 2017] Processing and Reprojecting Terra NDVI files for date: 2012_08_12
[Wed Oct 25 00:19:07 2017] Creating Virtual Files and rts time series for layer NDVI
Loading required package: MODIStsp
[Wed Oct 25 00:19:10 2017]Welcome to MODIStsp!

We will now search for a valid GDAL installation - please wait
(this will happen only once)
Scanning for GDAL installations...
Checking Sys.which...
GDAL version 2.2.1
GDAL version in use: 1.11.3
The option file in use (/home/joel/src/topoMAPP/DA/optionsNDVI.json) was created with
an old MODIStsp version (1.3.2).
Although this should still work, please consider re-loading the file
from the GUI and re-saving it!
[Wed Oct 25 00:19:13 2017] Retrieving list of files from NASA server
[Wed Oct 25 00:19:15 2017] Retrieving Files for Year 2016
[Wed Oct 25 00:19:24 2017] 1 files for date of 2016.08.12 were successfully downloaded!
[Wed Oct 25 00:19:25 2017] Processing and Reprojecting Terra NDVI files for date: 2016_08_12
[Wed Oct 25 00:19:27 2017] Creating Virtual Files and rts time series for layer NDVI
Loading required package: rgdal
Loading required package: methods
Loading required package: sp
rgdal: version: 1.2-7, (SVN revision 660)
 Geospatial Data Abstraction Library extensions to R successfully loaded
 Loaded GDAL runtime: GDAL 1.11.3, released 2015/09/16
 Path to GDAL shared files: /usr/share/gdal/1.11
 Loaded PROJ.4 runtime: Rel. 4.9.2, 08 September 2015, [PJ_VERSION: 492]
 Path to PROJ.4 shared files: (autodetected)
 Linking to sp version: 1.2-4 
Loading required package: raster
Loading required package: rgdal
Loading required package: methods
Loading required package: sp
rgdal: version: 1.2-7, (SVN revision 660)
 Geospatial Data Abstraction Library extensions to R successfully loaded
 Loaded GDAL runtime: GDAL 1.11.3, released 2015/09/16
 Path to GDAL shared files: /usr/share/gdal/1.11
 Loaded PROJ.4 runtime: Rel. 4.9.2, 08 September 2015, [PJ_VERSION: 492]
 Path to PROJ.4 shared files: (autodetected)
 Linking to sp version: 1.2-4 
Loading required package: raster
Warning message:
Quick-TRANSfer stage steps exceeded maximum (= 4995100) 
Warning message:
Quick-TRANSfer stage steps exceeded maximum (= 363825300) 
Loading required package: ncdf4
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: Hmisc
Loading required package: lattice
Loading required package: survival
Loading required package: Formula
Loading required package: ggplot2

Attaching package: ‘Hmisc’

The following objects are masked from ‘package:raster’:

    mask, zoom

The following objects are masked from ‘package:base’:

    format.pval, round.POSIXt, trunc.POSIXt, units

Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: ncdf4
Loading required package: Hmisc
Loading required package: lattice
Loading required package: survival
Loading required package: Formula
Loading required package: ggplot2

Attaching package: ‘Hmisc’

The following objects are masked from ‘package:raster’:

    mask, zoom

The following objects are masked from ‘package:base’:

    format.pval, round.POSIXt, trunc.POSIXt, units

[INFO]: Simulation directory:/home/joel/sim/test_radflux/
[INFO]: topo predictors precomputed
[INFO]: SURF.nc and PLEVEL.nc precomputed
Running:['Rscript', './rsrc/toposcale_pre2.R', '/home/joel/sim/test_radflux/', '2015-09-01', '2016-09-01']
Running:['Rscript', './rsrc/prepareSims.R', '/home/joel/sim/test_radflux/']
[INFO]: This simulation contains  2  grids
[INFO]: grids to be computed ['/home/joel/sim/test_radflux/grid2', '/home/joel/sim/test_radflux/grid1']
Grids to loop over = 
['/home/joel/sim/test_radflux/grid2', '/home/joel/sim/test_radflux/grid1']
[INFO]: COMPUTING GRID: /home/joel/sim/test_radflux/grid2
Running:['Rscript', './rsrc/computeSVF.R', '/home/joel/sim/test_radflux/grid2', '6', '500']
[INFO]: preparing surface layer /home/joel/sim/test_radflux/grid2
Obtaining latN from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'latN']
Obtaining latS from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'latS']
Obtaining lonW from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'lonW']
Obtaining lonE from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'lonE']
Running:['Rscript', './rsrc/getMODIS_SCA.R', 'FALSE', '/home/joel/src/topoMAPP/DA/optionsNDVI.json']
Running:['Rscript', './rsrc/getMODIS_SCA.R', 'FALSE', '/home/joel/src/topoMAPP/DA/optionsNDVI.json']
Running:['Rscript', './rsrc/getMODIS_SCA.R', 'FALSE', '/home/joel/src/topoMAPP/DA/optionsNDVI.json']
Running:['Rscript', './rsrc/getMODIS_SCA.R', 'FALSE', '/home/joel/src/topoMAPP/DA/optionsNDVI.json']
Running:['Rscript', './rsrc/getMODIS_SCA.R', 'FALSE', '/home/joel/src/topoMAPP/DA/optionsNDVI.json']
Running:['Rscript', './rsrc/makeSurface2.R', '/home/joel/sim/test_radflux/grid2', '/home/joel/sim/test_radflux//MODIS/NDVI']
[INFO]: running TopoSUB for grid /home/joel/sim/test_radflux/grid2
Running:['Rscript', './rsrc/toposub.R', '/home/joel/sim/test_radflux/grid2', '150']
[INFO]: Running TopoSCALE
Running:['Rscript', './rsrc/getGridEle.R', '/home/joel/sim/test_radflux/']
Running:['Rscript', './rsrc/boxMetadata.R', '/home/joel/sim/test_radflux/grid2', '2']
Traceback (most recent call last):
  File "topomapp_main.py", line 275, in <module>
    TMgrid.main(wd, Ngrid, config)
  File "/home/joel/src/topoMAPP/TMgrid.py", line 38, in main
    TMtoposcale.main(wd, Ngrid, config)
  File "/home/joel/src/topoMAPP/TMtoposcale.py", line 36, in main
    num_cores = config['geotop']['num_cores']
  File "/usr/local/lib/python2.7/dist-packages/configobj.py", line 554, in __getitem__
    val = dict.__getitem__(self, key)
KeyError: 'num_cores'
