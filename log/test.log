Loading required package: ncdf4
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: Hmisc
Loading required package: lattice
Loading required package: survival
Loading required package: Formula
Loading required package: ggplot2

Attaching package: ‘Hmisc’

The following objects are masked from ‘package:raster’:

    mask, zoom

The following objects are masked from ‘package:base’:

    format.pval, round.POSIXt, trunc.POSIXt, units

Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: ncdf4
Loading required package: Hmisc
Loading required package: lattice
Loading required package: survival
Loading required package: Formula
Loading required package: ggplot2

Attaching package: ‘Hmisc’

The following objects are masked from ‘package:raster’:

    mask, zoom

The following objects are masked from ‘package:base’:

    format.pval, round.POSIXt, trunc.POSIXt, units

There were 50 or more warnings (use warnings() to see the first 50)
Loading required package: raster
Loading required package: methods
Loading required package: sp
rgdal: version: 1.2-7, (SVN revision 660)
 Geospatial Data Abstraction Library extensions to R successfully loaded
 Loaded GDAL runtime: GDAL 1.11.3, released 2015/09/16
 Path to GDAL shared files: /usr/share/gdal/1.11
 Loaded PROJ.4 runtime: Rel. 4.9.2, 08 September 2015, [PJ_VERSION: 492]
 Path to PROJ.4 shared files: (autodetected)
 Linking to sp version: 1.2-4 
Loading required package: gdata
gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.

gdata: read.xls support for 'XLSX' (Excel 2007+) files ENABLED.

Attaching package: ‘gdata’

The following object is masked from ‘package:stats’:

    nobs

The following object is masked from ‘package:utils’:

    object.size

The following object is masked from ‘package:base’:

    startsWith

Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: MASS

Attaching package: ‘MASS’

The following objects are masked from ‘package:raster’:

    area, select

Loading required package: nlme

Attaching package: ‘nlme’

The following object is masked from ‘package:raster’:

    getData

Warning messages:
1: Quick-TRANSfer stage steps exceeded maximum (= 4995750) 
2: Quick-TRANSfer stage steps exceeded maximum (= 4995750) 
3: Quick-TRANSfer stage steps exceeded maximum (= 4995750) 
4: Quick-TRANSfer stage steps exceeded maximum (= 4995750) 
5: Quick-TRANSfer stage steps exceeded maximum (= 4995750) 
6: Quick-TRANSfer stage steps exceeded maximum (= 4995750) 
Warning message:
Quick-TRANSfer stage steps exceeded maximum (= 363825300) 
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: ncdf4
Loading required package: Hmisc
Loading required package: lattice
Loading required package: survival
Loading required package: Formula
Loading required package: ggplot2

Attaching package: ‘Hmisc’

The following objects are masked from ‘package:raster’:

    mask, zoom

The following objects are masked from ‘package:base’:

    format.pval, round.POSIXt, trunc.POSIXt, units

There were 50 or more warnings (use warnings() to see the first 50)
Loading required package: raster
Loading required package: methods
Loading required package: sp
rgdal: version: 1.2-7, (SVN revision 660)
 Geospatial Data Abstraction Library extensions to R successfully loaded
 Loaded GDAL runtime: GDAL 1.11.3, released 2015/09/16
 Path to GDAL shared files: /usr/share/gdal/1.11
 Loaded PROJ.4 runtime: Rel. 4.9.2, 08 September 2015, [PJ_VERSION: 492]
 Path to PROJ.4 shared files: (autodetected)
 Linking to sp version: 1.2-4 
Loading required package: gdata
gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.

gdata: read.xls support for 'XLSX' (Excel 2007+) files ENABLED.

Attaching package: ‘gdata’

The following object is masked from ‘package:stats’:

    nobs

The following object is masked from ‘package:utils’:

    object.size

The following object is masked from ‘package:base’:

    startsWith

Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: raster
Loading required package: methods
Loading required package: sp
Loading required package: MODIStsp
[Wed Oct 18 15:08:53 2017]Welcome to MODIStsp!

We will now search for a valid GDAL installation - please wait
(this will happen only once)
Scanning for GDAL installations...
Checking Sys.which...
GDAL version 2.2.1
GDAL version in use:1.11.3
[Wed Oct 18 15:08:56 2017] Retrieving list of files from NASA server
Error in curl::curl_fetch_memory(url, handle = handle) : 
  Timeout was reached
Trying to reach http server - attempt 1
Error in curl::curl_fetch_memory(url, handle = handle) : 
  Timeout was reached
Trying to reach http server - attempt 2
[Wed Oct 18 15:09:29 2017] Retrieving Files for Year 2015
[Wed Oct 18 15:09:32 2017] Downloading Terra Files for date 2015_09_01 : 1 of 1
[Wed Oct 18 15:09:45 2017] 1 files for date of 2015.09.01 were successfully downloaded!
[Wed Oct 18 15:09:46 2017] Processing and Reprojecting Terra SC files for date: 2015_09_01
[Wed Oct 18 15:15:45 2017] Downloading Terra Files for date 2015_09_02 : 1 of 1
[Wed Oct 18 15:15:57 2017] 1 files for date of 2015.09.02 were successfully downloaded!
[Wed Oct 18 15:15:57 2017] Processing and Reprojecting Terra SC files for date: 2015_09_02
[Wed Oct 18 15:20:03 2017] Downloading Terra Files for date 2015_09_03 : 1 of 1
[Wed Oct 18 15:20:16 2017] 1 files for date of 2015.09.03 were successfully downloaded!
[Wed Oct 18 15:20:18 2017] Processing and Reprojecting Terra SC files for date: 2015_09_03
[Wed Oct 18 15:24:19 2017] Downloading Terra Files for date 2015_09_04 : 1 of 1
[Wed Oct 18 15:24:34 2017] 1 files for date of 2015.09.04 were successfully downloaded!
[Wed Oct 18 15:24:35 2017] Processing and Reprojecting Terra SC files for date: 2015_09_04
[Wed Oct 18 15:28:41 2017] Downloading Terra Files for date 2015_09_05 : 1 of 1
[Wed Oct 18 15:28:51 2017] 1 files for date of 2015.09.05 were successfully downloaded!
[Wed Oct 18 15:28:51 2017] Processing and Reprojecting Terra SC files for date: 2015_09_05
[Wed Oct 18 15:32:57 2017] Downloading Terra Files for date 2015_09_06 : 1 of 1
[Wed Oct 18 15:33:05 2017] 1 files for date of 2015.09.06 were successfully downloaded!
[Wed Oct 18 15:33:07 2017] Processing and Reprojecting Terra SC files for date: 2015_09_06
[Wed Oct 18 15:36:38 2017] Downloading Terra Files for date 2015_09_07 : 1 of 1
[Wed Oct 18 15:36:52 2017] 1 files for date of 2015.09.07 were successfully downloaded!
[Wed Oct 18 15:36:52 2017] Processing and Reprojecting Terra SC files for date: 2015_09_07
[Wed Oct 18 15:40:58 2017] Downloading Terra Files for date 2015_09_08 : 1 of 1
[Wed Oct 18 15:41:09 2017] 1 files for date of 2015.09.08 were successfully downloaded!
[Wed Oct 18 15:41:10 2017] Processing and Reprojecting Terra SC files for date: 2015_09_08
[Wed Oct 18 15:45:25 2017] Downloading Terra Files for date 2015_09_09 : 1 of 1
[Wed Oct 18 15:45:39 2017] 1 files for date of 2015.09.09 were successfully downloaded!
[Wed Oct 18 15:45:40 2017] Processing and Reprojecting Terra SC files for date: 2015_09_09
[Wed Oct 18 15:49:50 2017] Downloading Terra Files for date 2015_09_10 : 1 of 1
[Wed Oct 18 15:50:02 2017] 1 files for date of 2015.09.10 were successfully downloaded!
[Wed Oct 18 15:50:03 2017] Processing and Reprojecting Terra SC files for date: 2015_09_10
[Wed Oct 18 15:54:43 2017] Downloading Terra Files for date 2015_09_11 : 1 of 1
[Wed Oct 18 15:54:51 2017] 1 files for date of 2015.09.11 were successfully downloaded!
[Wed Oct 18 15:54:51 2017] Processing and Reprojecting Terra SC files for date: 2015_09_11
[Wed Oct 18 15:58:45 2017] Downloading Terra Files for date 2015_09_12 : 1 of 1
[Wed Oct 18 15:58:57 2017] 1 files for date of 2015.09.12 were successfully downloaded!
[Wed Oct 18 15:58:58 2017] Processing and Reprojecting Terra SC files for date: 2015_09_12
[Wed Oct 18 16:02:46 2017] Downloading Terra Files for date 2015_09_13 : 1 of 1
[Wed Oct 18 16:02:54 2017] 1 files for date of 2015.09.13 were successfully downloaded!
[Wed Oct 18 16:02:54 2017] Processing and Reprojecting Terra SC files for date: 2015_09_13
[Wed Oct 18 16:06:49 2017] Downloading Terra Files for date 2015_09_14 : 1 of 1
[Wed Oct 18 16:06:55 2017] 1 files for date of 2015.09.14 were successfully downloaded!
[Wed Oct 18 16:06:56 2017] Processing and Reprojecting Terra SC files for date: 2015_09_14
[Wed Oct 18 16:10:59 2017] Downloading Terra Files for date 2015_09_15 : 1 of 1
[Wed Oct 18 16:11:07 2017] 1 files for date of 2015.09.15 were successfully downloaded!
[Wed Oct 18 16:11:08 2017] Processing and Reprojecting Terra SC files for date: 2015_09_15
[Wed Oct 18 16:15:01 2017] Downloading Terra Files for date 2015_09_16 : 1 of 1
[Wed Oct 18 16:15:06 2017] 1 files for date of 2015.09.16 were successfully downloaded!
[Wed Oct 18 16:15:06 2017] Processing and Reprojecting Terra SC files for date: 2015_09_16
[Wed Oct 18 16:18:50 2017] Downloading Terra Files for date 2015_09_17 : 1 of 1
[Wed Oct 18 16:19:01 2017] 1 files for date of 2015.09.17 were successfully downloaded!
[Wed Oct 18 16:19:02 2017] Processing and Reprojecting Terra SC files for date: 2015_09_17
[Wed Oct 18 16:23:19 2017] Downloading Terra Files for date 2015_09_18 : 1 of 1
[Wed Oct 18 16:23:32 2017] 1 files for date of 2015.09.18 were successfully downloaded!
[Wed Oct 18 16:23:32 2017] Processing and Reprojecting Terra SC files for date: 2015_09_18
[Wed Oct 18 16:27:17 2017] Downloading Terra Files for date 2015_09_19 : 1 of 1
[Wed Oct 18 16:27:34 2017] 1 files for date of 2015.09.19 were successfully downloaded!
[Wed Oct 18 16:27:35 2017] Processing and Reprojecting Terra SC files for date: 2015_09_19
[Wed Oct 18 16:31:37 2017] Downloading Terra Files for date 2015_09_20 : 1 of 1
[Wed Oct 18 16:31:46 2017] 1 files for date of 2015.09.20 were successfully downloaded!
[Wed Oct 18 16:31:46 2017] Processing and Reprojecting Terra SC files for date: 2015_09_20
[Wed Oct 18 16:35:36 2017] Downloading Terra Files for date 2015_09_21 : 1 of 1
[Wed Oct 18 16:35:48 2017] 1 files for date of 2015.09.21 were successfully downloaded!
[Wed Oct 18 16:35:49 2017] Processing and Reprojecting Terra SC files for date: 2015_09_21
[Wed Oct 18 16:39:55 2017] Downloading Terra Files for date 2015_09_22 : 1 of 1
[Wed Oct 18 16:40:03 2017] 1 files for date of 2015.09.22 were successfully downloaded!
[Wed Oct 18 16:40:03 2017] Processing and Reprojecting Terra SC files for date: 2015_09_22
[Wed Oct 18 16:44:25 2017] Downloading Terra Files for date 2015_09_23 : 1 of 1
[Wed Oct 18 16:44:35 2017] 1 files for date of 2015.09.23 were successfully downloaded!
[Wed Oct 18 16:44:36 2017] Processing and Reprojecting Terra SC files for date: 2015_09_23
[Wed Oct 18 16:48:20 2017] Downloading Terra Files for date 2015_09_24 : 1 of 1
[Wed Oct 18 16:48:30 2017] 1 files for date of 2015.09.24 were successfully downloaded!
[Wed Oct 18 16:48:30 2017] Processing and Reprojecting Terra SC files for date: 2015_09_24
[Wed Oct 18 16:52:39 2017] Downloading Terra Files for date 2015_09_25 : 1 of 1
[Wed Oct 18 16:52:51 2017] 1 files for date of 2015.09.25 were successfully downloaded!
[Wed Oct 18 16:52:51 2017] Processing and Reprojecting Terra SC files for date: 2015_09_25
[Wed Oct 18 16:57:02 2017] Downloading Terra Files for date 2015_09_26 : 1 of 1
[Wed Oct 18 16:57:07 2017] 1 files for date of 2015.09.26 were successfully downloaded!
[Wed Oct 18 16:57:07 2017] Processing and Reprojecting Terra SC files for date: 2015_09_26
[INFO]: Simulation directory:/home/joel/sim/test_radflux/
[INFO]: topo predictors precomputed
[INFO]: SURF.nc and PLEVEL.nc precomputed
Running:['Rscript', './rsrc/toposcale_pre2.R', '/home/joel/sim/test_radflux/', '2015-09-01', '2016-09-01']
/home/joel/sim/test_radflux/grid2/landform.tif
[INFO]: TopoSUB already run
[INFO]: Running TopoSCALE
[INFO]: TopoSCALE already run for /home/joel/sim/test_radflux/grid2
[INFO]: Setup Geotop simulations
[INFO]: Setting up geotop inputs /home/joel/sim/test_radflux/grid2
[INFO]: Creating met files....
Running:['Rscript', './rsrc/setupSim.R', '/home/joel/sim/test_radflux/grid2', 'TRUE', '0', '1', '0', '0']
[INFO]: extract surface properties
Running:['Rscript', './rsrc/pointsSurface.R', '/home/joel/sim/test_radflux/grid2']
[INFO]: making inputs file
Running:['Rscript', './rsrc/makeGeotopInputs.R', '/home/joel/sim/test_radflux/grid2', '/home/joel/src/geotop/inputsfile/geotop.inpts', '2015-09-01', '2016-09-01']
[INFO]: Running LSM
[INFO]: Simulations grid /home/joel/sim/test_radflux/grid2 running (parallel model runs)
[INFO]: Running Toposub INFORM!
Running:['Rscript', './rsrc/toposub_post_1.R', '/home/joel/sim/test_radflux/grid2', '150', 'surface.txt', 'snow_water_equivalent.mm.']
Running:['Rscript', './rsrc/toposub_pre_inform.R', '/home/joel/sim/test_radflux/grid2', '150', 'snow_water_equivalent.mm.', 'TRUE']
[INFO]: Running TopoSCALE INFORM!
[INFO]: TopoSCALE already run for /home/joel/sim/test_radflux/grid2
[INFO]: Setup Geotop simulations INFORM!
[INFO]: Setup Geotop simulations
[INFO]: Setting up geotop inputs /home/joel/sim/test_radflux/grid2
[INFO]: Creating met files....
Running:['Rscript', './rsrc/setupSim.R', '/home/joel/sim/test_radflux/grid2', 'TRUE', '0', '1', '0', '0']
[INFO]: extract surface properties
Running:['Rscript', './rsrc/pointsSurface.R', '/home/joel/sim/test_radflux/grid2']
[INFO]: making inputs file
Running:['Rscript', './rsrc/makeGeotopInputs.R', '/home/joel/sim/test_radflux/grid2', '/home/joel/src/geotop/inputsfile/geotop.inpts', '2015-09-01', '2016-09-01']
[INFO]: Running LSM
[INFO]: Simulations grid /home/joel/sim/test_radflux/grid2 running (parallel model runs)
[INFO]: Spatialising TopoSUB results....
[INFO]: running spatialisation routines for grid /home/joel/sim/test_radflux/grid2
Running:['Rscript', './rsrc/toposub_post_2.R', '/home/joel/sim/test_radflux/grid2', '150', 'surface.txt', 'snow_water_equivalent.mm.', '2015-09-01', '2016-09-01']
[INFO]: Spatialising TopoSUB results....
[INFO]: running spatialisation routines for grid /home/joel/sim/test_radflux/grid2
Running:['Rscript', './rsrc/toposubPostInstant.R', '/home/joel/sim/test_radflux/grid2', '150', 'surface.txt', 'snow_water_equivalent.mm.']
[INFO]: Making coarse grid timeseries TopoSUB results....
[INFO]: running timeseries routines for grid /home/joel/sim/test_radflux/grid2
Running:['Rscript', './rsrc/toposub_gridTS.R', '/home/joel/sim/test_radflux/grid2', '150', 'surface.txt', 'snow_water_equivalent.mm.']
Obtaining latN from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'latN']
Obtaining latS from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'latS']
Obtaining lonW from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'lonW']
Obtaining lonE from /home/joel/sim/test_radflux/grid2/predictors/ele.tif
Running:['Rscript', './rsrc/getExtent.R', '/home/joel/sim/test_radflux/grid2/predictors/ele.tif', 'lonE']
Running:['Rscript', './rsrc/getMODIS_SCA.R', 'FALSE', '/home/joel/src/topoMAPP/DA/optionsSCA.json']
Traceback (most recent call last):
  File "topomapp_main.py", line 333, in <module>
    TMgrid.main(wd, Ngrid, config)
  File "/home/joel/src/topoMAPP/TMgrid.py", line 152, in main
    gmod.main("FALSE" , config["modis"]["options_file_SCA"]) #  able to run non-interactively now
  File "/home/joel/src/topoMAPP/DA/getMODIS.py", line 31, in main
    run_rscript_fileout(path2script,[gui , options_file])
  File "/home/joel/src/topoMAPP/DA/getMODIS.py", line 49, in run_rscript_fileout
    subprocess.check_output(cmd)
  File "/usr/lib/python2.7/subprocess.py", line 568, in check_output
    output, unused_err = process.communicate()
  File "/usr/lib/python2.7/subprocess.py", line 792, in communicate
    stdout = _eintr_retry_call(self.stdout.read)
  File "/usr/lib/python2.7/subprocess.py", line 476, in _eintr_retry_call
    return func(*args)
KeyboardInterrupt

Error in curl::curl_fetch_memory(url, handle = handle) : 
  Operation was aborted by an application callback
Trying to reach ftp server - attempt 1
[Wed Oct 18 17:01:04 2017] Downloading Terra Files for date 2015_09_27 : 1 of 1
[Wed Oct 18 17:01:10 2017] 1 files for date of 2015.09.27 were successfully downloaded!
[Wed Oct 18 17:01:11 2017] Processing and Reprojecting Terra SC files for date: 2015_09_27
[Wed Oct 18 17:05:04 2017] Downloading Terra Files for date 2015_09_28 : 1 of 1
[Wed Oct 18 17:05:16 2017] 1 files for date of 2015.09.28 were successfully downloaded!
[Wed Oct 18 17:05:17 2017] Processing and Reprojecting Terra SC files for date: 2015_09_28
[Wed Oct 18 17:09:13 2017] Downloading Terra Files for date 2015_09_29 : 1 of 1
[Wed Oct 18 17:09:20 2017] 1 files for date of 2015.09.29 were successfully downloaded!
[Wed Oct 18 17:09:21 2017] Processing and Reprojecting Terra SC files for date: 2015_09_29
